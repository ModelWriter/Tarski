<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
        point="org.eclipse.ui.editors">
     <editor
           class="eu.modelwriter.specification.editor.MetaModelEditor"
           default="true"
           extensions="mw,als"
           icon="platform:/plugin/eu.modelwriter.marker/icons/mw_file.gif"
           id="eu.modelwriter.specification.editor.Meta"
           name="AlloyEditor">
     </editor>
  </extension>
  
  <extension point="org.eclipse.core.resources.markers"
  	id="eu.modelwriter.specification.editor.errormarker"
  	name="Meta Model Editor Error Marking">
        <super type="org.eclipse.core.resources.textmarker"/>
        <super type="org.eclipse.core.resources.problemmarker"/>
        <persistent value="true"/>
  </extension>
  
  <extension point="org.eclipse.ui.editors.annotationTypes">
      	<type
			name="eu.modelwriter.specification.editor.errorannotation"
			markerType="eu.modelwriter.specification.editor.errormarker"/>
  </extension>
  
  <extension point="org.eclipse.ui.editors.markerAnnotationSpecification">
      <specification
            annotationType="eu.modelwriter.specification.editor.errorannotation"
            colorPreferenceKey="mm.annotation.colorPreference"
            colorPreferenceValue="255,0,0"
            includeOnPreferencePage="true"
            label="Meta Model Error Annotation"
            overviewRulerPreferenceKey="mm.annotation.overviewRuler"
            overviewRulerPreferenceValue="true"
            presentationLayer="1"
            symbolicIcon="error"
            textPreferenceKey="mm.annotation.textPreference"
            textPreferenceValue="true"
            textStylePreferenceKey="mm.annotation.textStyle"
            textStylePreferenceValue="SQUIGGLES"
            verticalRulerPreferenceKey="mm.annotation.verticalRuler"
            verticalRulerPreferenceValue="true">
	  </specification>
    </extension>
    
    <extension point="org.eclipse.debug.ui.launchShortcuts">
    <shortcut
          class="eu.modelwriter.specification.editor.LaunchSpecification"
          id="eu.modelwriter.specification.editor.launchShortcut"
          icon="icons/alloylogo.gif"
          label="ModelWriter Specification"
          modes="run">
          <contextualLaunch>
	          <contextLabel
	                mode="run" label="Run Alloy File">
	          </contextLabel>
          	<enablement>
          		<with
                  variable="selection">
                  <count value="1"/>
                  <iterate>
                  	<adapt type="org.eclipse.core.resources.IFile">
	                  	<and>
	                  		<test
                          		property="org.eclipse.core.resources.extension" value="mw">
                  			</test>
	                  	</and>
                  	</adapt>
                  </iterate>
          		</with>
          	</enablement>
          </contextualLaunch>
    </shortcut>
    </extension>
</plugin>
